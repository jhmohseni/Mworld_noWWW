<!-- i-C-a -->
<div id="bhcomefrom" data-role="page">
  <div class="coachcontainer" style="position:absolute;top:0px;left:-225px;width:225px;height:320px;"></div>
  <script src="js/slidebarbh.js"></script>
  <div class="menuhousing"></div>
  <div class="homebtnholder"><div class="homebtnbh"></div></div>
  <div class="mpbtnholder"><div class="mpbtnbh"></div></div>
  <div class="cpbtnholder"><div class="cpbtnbh"></div></div>
  <div class="infobtnholder"><div class="infobtnbh"></div></div>
  <div class="credsbtnholder"><div class="credsbtnbh"></div></div>
  <div class="menubtnholder"><div class="menubtnbh"></div></div>
  <div id="spacechar">&nbsp;
    <div data-role="content" class="kidzcontent">
      <div class="v-spacer"></div>
      <div class="sidebarleft-half">
        <div id="sgl" style="width:175px;height:160px;left:30px;top:44px;background:transparent;position:absolute"></div>
        <div id="snl" style="width:175px;height:160px;left:160px;top:330px;background:transparent;position:absolute"></div>
        <div id="nsl" style="width:175px;height:160px;left:328px;top:110px;background:transparent;position:absolute"></div>
        <div id="bhl" style="width:175px;height:160px;left:280px;top:550px;background:transparent;position:absolute"></div>
      </div>
      <div class="storypagetitlebh"><h1>How is a black<br>hole formed?</h1></div>
      <div class="storypagebh" style="top:300px;">
        <p>Black holes are formed when very, very large stars called supergiants explode.  The explosion of a supergiant star is called a supernova.  Sometimes all that remains of a supernova explosion is a small, very dense core called a neutron star. </p>
        <p>When the exploding star is really massive, the core of the star collapses completely and leaves behind a black hole.  Click on each image to find out moreâ€¦ including some cool stories about where gold comes from, and the link between our own bodies and a supernova...!</p>		  
      </div>
      <div class="botlogoholder"><a href="home.html" class="homelinkbh"><img src="images/5-8/bottomhomebh.png"></a></div>
    </div><!--end of content-->
  </div><!--/spacechar-->
  <div class="micbtnholder"><div class="micbtnbh" id="playstopcomefrom"></div></div>
  <div class="bbh"><div class="rwbh" id="comefromaudiobbtn"></div></div>
  <div class="plbh"><div class="plpsbh" id="comefromaudioplbtn"></div></div>
  <div class="fbh"><div class="fwbh" id="comefromaudiofbtn" ></div></div>
  <div id="actualaudio-comefrom" style="visibility:hidden;"></div>
  <script>
    sound = new Audio(); // 'sound' is now an audio object
    var playing;
    var paused;
    (function() {
      playing = false;
      paused = true;
      
      var bhcomefromPage = $("#bhcomefrom");
      bhcomefromPage.swipe( { swipeRight:goBack, allowPageScroll:"auto"} );
      //change images path
      changeImageSrc('bhcomefrom');
      findElementsWithBgImage('bhcomefrom');
      //changeAudioSrc();

      if(sound.canPlayType('audio/mpeg')) {
        bhcomefromPage.find('#actualaudio-comefrom').html('<audio controls preload id="comefromaudio" onpause="pausedaudio()" onplay="pausebg()"><source src="'+FS.remotePath+'audio/WhereBlackHolesComeFrom.mp3" type="audio/mpeg"></audio>');
      } 
      
      bhcomefromPage.on('pageshow', function(){ 
        
        bhcomefromPage.find("#sgl").on('tap', function() { $.mobile.changePage("sub-space-bh-supergiant.html", {transition:"slide"}); });
        bhcomefromPage.find("#snl").on('tap', function() { $.mobile.changePage("sub-space-bh-supernova.html", {transition:"slide"}); });
        bhcomefromPage.find("#nsl").on('tap', function() { $.mobile.changePage("sub-space-bh-neutron.html", {transition:"slide"}); });
        bhcomefromPage.find("#bhl").on('tap', function() { $.mobile.changePage("sub-space-bh-blackhole.html", {transition:"slide"}); });
        
        bhcomefromPage.find('.homelinkbh').on('tap', function() { buttonEffectsBH();mainaudiobg.play(); bgsoundbh.pause(); bgsoundbh.currentTime = 0;});
      
        bhcomefromPage.find("#playstopcomefrom").on('tap', function() {
          if(!playing) {
            comefromaudio.play();
            bhcomefromPage.find('.micbtnbh').css('background-position-x', '-81px');
            mworldPlayAudio(app.kidid, 'comefromaudio');
            playing = true;
            paused = false;
          } else {
            comefromaudio.pause();comefromaudio.currentTime = 0;
            bhcomefromPage.find('.micbtnbh').css('background-position-x', '0px');
            playing = false;
            paused = true;
          }
        });
        
        bhcomefromPage.find("#comefromaudioplbtn").on('tap', function() {
          if(paused) {
            comefromaudio.play();
            paused = false;
          } else {
            comefromaudio.pause();
            paused = true;
          }
        });
        
        bhcomefromPage.find("#comefromaudiofbtn").on('tap', function() {
          var ctime = comefromaudio.currentTime;
          comefromaudio.currentTime = ctime + 10;
        });
        
        bhcomefromPage.find("#comefromaudiobbtn").on('tap', function() {
          var ctime = comefromaudio.currentTime;
          comefromaudio.currentTime = ctime - 10;
        });
        
        bhcomefromPage.find("#comefromaudiopsbtn").on('tap', function() {
          comefromaudio.pause();
          bhcomefromPage.find(".audiopanel").css({"backgroundPosition":"0px 0px"});
        });

        bhcomefromPage.find('#sgl, #snl, #nsl, #bhl, .botlogoholder').on('tap', function(){
          buttonClickEffects($(this));
          playClickSound();
        });
        
        setTimeout(function(){ mworldPageVisit(app.kidid, 'How-Is-A-Black-Hole-Formed'); },app.BHTrackTime);
      });
    })();

   function goBack() {
      $.mobile.changePage("sub-space-bh.html", {transition: "slide", reverse: true });
    }
    
    function pausedaudio() {
      bgsoundbh.play();
    }
    
    function pausebg() {
      bgsoundbh.pause();
    }
  </script>
</div>
